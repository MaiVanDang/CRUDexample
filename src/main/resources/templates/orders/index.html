<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>OOP PROJECT</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
    <div class="container">
		<h1 class="text-center my-4">Orders</h1>
		<a class="btn btn-info mb-3" href="/orders/report">View Orders Report</a>

		<!-- Thanh tìm kiếm -->
		<form class="mb-4" method="GET" action="/orders/search">
		    <div class="input-group">
		        <input type="text" name="keyword" class="form-control" placeholder="Search by Orderid, customer, product, status, payment status or payment method" />
		        <button class="btn btn-primary" type="submit">Search</button>
		    </div>
		</form>

		<table class="table">
				<thead>
					<tr>
						<th>OrderID</th>
						<th>CustomerID</th>
						<th>ProductID</th>
						<th>Quantity</th>
						<th>Price</th>
						<th>Promotion</th>
						<th>PaymentMethod</th>
						<th>PaymentStatus</th>
						<th>Status</th>
						<th>Note</th>
						<th>Created Date</th>
						<th>Updated Date</th>
						<th>EstimatedDelivery</th>
						<th>Action</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="order : ${orders}">
						<td th:text="${order.orderID}"></td>
						<td th:text="${order.customerID}"></td>
						<td th:text="${order.productID}"></td>
						<td th:text="${order.quantity}"></td>
						<td th:text="${order.price} "></td>
						<td th:text="${order.promotion}"></td>
						<td th:text="${order.paymentMethod}"></td>
						<td th:text="${order.paymentStatus}"></td>
						<td th:text="${order.orderStatus}"></td>
						<td th:text="${order.note}"></td>
						<td th:text="${#dates.format(order.createdAt, 'yyyy-MM-dd')}"></td>
						<td th:text="${#dates.format(order.updatedAt, 'yyyy-MM-dd')}"></td>
						<td th:text="${#dates.format(order.estimatedDeliveryDate, 'yyyy-MM-dd')}"></td>
						<td style="white-space:nowrap">
							<a class="btn btn-primary btn-sm"
								th:href="@{/orders/edit(id=${order.orderID})}">Edit</a> 
							<a class="btn btn-danger btn-sm"
								th:href="@{/orders/delete(id=${order.orderID})}"
								onclick="return confirm('Are you sure?')">Delete</a>
						</td>
					</tr>
				</tbody>
			</table>
		
	</div>
	
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>